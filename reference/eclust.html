<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Visual enhancement of clustering analysis — eclust • factoextraplus</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><script src="../extra.js"></script><meta property="og:title" content="Visual enhancement of clustering analysis — eclust"><meta name="description" content="Provides solution for enhancing the workflow of clustering
  analyses and ggplot2-based elegant data visualization. Read more:
 Visual enhancement of clustering analysis."><meta property="og:description" content="Provides solution for enhancing the workflow of clustering
  analyses and ggplot2-based elegant data visualization. Read more:
 Visual enhancement of clustering analysis."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">factoextraplus</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.2.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/erdeyl/factoextraplus/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Visual enhancement of clustering analysis</h1>
      <small class="dont-index">Source: <a href="https://github.com/erdeyl/factoextraplus/blob/main/R/eclust.R" class="external-link"><code>R/eclust.R</code></a></small>
      <div class="d-none name"><code>eclust.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Provides solution for enhancing the workflow of clustering
  analyses and ggplot2-based elegant data visualization. Read more:
 <a href="https://www.datanovia.com/en/blog/cluster-analysis-in-r-simplified-and-enhanced/" class="external-link">Visual enhancement of clustering analysis</a>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">eclust</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  FUNcluster <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"kmeans"</span>, <span class="st">"pam"</span>, <span class="st">"clara"</span>, <span class="st">"fanny"</span>, <span class="st">"hclust"</span>, <span class="st">"agnes"</span>, <span class="st">"diana"</span><span class="op">)</span>,</span>
<span>  k <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  k.max <span class="op">=</span> <span class="fl">10</span>,</span>
<span>  stand <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  graph <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  hc_metric <span class="op">=</span> <span class="st">"euclidean"</span>,</span>
<span>  hc_method <span class="op">=</span> <span class="st">"ward.D2"</span>,</span>
<span>  gap_maxSE <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>method <span class="op">=</span> <span class="st">"firstSEmax"</span>, SE.factor <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>,</span>
<span>  nboot <span class="op">=</span> <span class="fl">100</span>,</span>
<span>  verbose <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/interactive.html" class="external-link">interactive</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  seed <span class="op">=</span> <span class="fl">123</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>numeric vector, data matrix or data frame</p></dd>


<dt id="arg-funcluster">FUNcluster<a class="anchor" aria-label="anchor" href="#arg-funcluster"></a></dt>
<dd><p>a clustering function including "kmeans", "pam", "clara",
"fanny", "hclust", "agnes" and "diana". Abbreviation is allowed.</p></dd>


<dt id="arg-k">k<a class="anchor" aria-label="anchor" href="#arg-k"></a></dt>
<dd><p>the number of clusters to be generated. If NULL, the gap statistic
is used to estimate the appropriate number of clusters. In the case of
kmeans, k can be either the number of clusters, or a set of initial
(distinct) cluster centers.</p></dd>


<dt id="arg-k-max">k.max<a class="anchor" aria-label="anchor" href="#arg-k-max"></a></dt>
<dd><p>the maximum number of clusters to consider, must be at least
two.</p></dd>


<dt id="arg-stand">stand<a class="anchor" aria-label="anchor" href="#arg-stand"></a></dt>
<dd><p>logical value; default is FALSE. If TRUE, then the data will be
standardized using the function scale(). Measurements are standardized for
each variable (column), by subtracting the variable's mean value and
dividing by the variable's standard deviation.</p></dd>


<dt id="arg-graph">graph<a class="anchor" aria-label="anchor" href="#arg-graph"></a></dt>
<dd><p>logical value. If TRUE, cluster plot is displayed.</p></dd>


<dt id="arg-hc-metric">hc_metric<a class="anchor" aria-label="anchor" href="#arg-hc-metric"></a></dt>
<dd><p>character string specifying the metric to be used for
calculating dissimilarities between observations. Allowed values are those
accepted by the function dist() [including "euclidean", "manhattan",
"maximum", "canberra", "binary", "minkowski"] and correlation based
distance measures ["pearson", "spearman" or "kendall"]. Used only when
FUNcluster is a hierarchical clustering function such as one of "hclust",
"agnes" or "diana".</p></dd>


<dt id="arg-hc-method">hc_method<a class="anchor" aria-label="anchor" href="#arg-hc-method"></a></dt>
<dd><p>the agglomeration method to be used (?hclust): "ward.D",
"ward.D2", "single", "complete", "average", ...</p></dd>


<dt id="arg-gap-maxse">gap_maxSE<a class="anchor" aria-label="anchor" href="#arg-gap-maxse"></a></dt>
<dd><p>a list containing the parameters (method and SE.factor) for
determining the location of the maximum of the gap statistic (Read the
documentation ?cluster::maxSE).</p></dd>


<dt id="arg-nboot">nboot<a class="anchor" aria-label="anchor" href="#arg-nboot"></a></dt>
<dd><p>integer, number of Monte Carlo ("bootstrap") samples. Used only
for determining the number of clusters using gap statistic.</p></dd>


<dt id="arg-verbose">verbose<a class="anchor" aria-label="anchor" href="#arg-verbose"></a></dt>
<dd><p>logical value. If TRUE, the result of progress is printed.</p></dd>


<dt id="arg-seed">seed<a class="anchor" aria-label="anchor" href="#arg-seed"></a></dt>
<dd><p>integer used for seeding the random number generator.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>other arguments to be passed to FUNcluster.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>Returns an object of class "eclust" containing the result of the
  standard function used (e.g., kmeans, pam, hclust, agnes, diana, etc.).</p>
<p>It includes also:</p><ul><li><p>cluster: the cluster assignement of
  observations after cutting the tree</p></li>
<li><p>nbclust: the number of clusters</p></li>
<li><p>silinfo: the silhouette information of observations, including
  $widths (silhouette width values of each observation), $clus.avg.widths
  (average silhouette width of each cluster) and $avg.width (average width of
  all clusters)</p></li>
<li><p>size: the size of clusters</p></li>
<li><p>data: a matrix
  containing the original or the standardized data (if stand = TRUE)</p></li>
</ul><p>The
  "eclust" class has method for fviz_silhouette(), fviz_dend(),
  fviz_cluster().</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="fviz_silhouette.html">fviz_silhouette</a></code>, <code><a href="fviz_dend.html">fviz_dend</a></code>,
  <code><a href="fviz_cluster.html">fviz_cluster</a></code></p></div>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Alboukadel Kassambara <a href="mailto:alboukadel.kassambara@gmail.com">alboukadel.kassambara@gmail.com</a></p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Load and scale data</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"USArrests"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/scale.html" class="external-link">scale</a></span><span class="op">(</span><span class="va">USArrests</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Enhanced k-means clustering</span></span></span>
<span class="r-in"><span><span class="co"># nboot &gt;= 500 is recommended</span></span></span>
<span class="r-in"><span><span class="va">res.km</span> <span class="op">&lt;-</span> <span class="fu">eclust</span><span class="op">(</span><span class="va">df</span>, <span class="st">"kmeans"</span>, nboot <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="eclust-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="co"># Silhouette plot</span></span></span>
<span class="r-in"><span><span class="fu"><a href="fviz_silhouette.html">fviz_silhouette</a></span><span class="op">(</span><span class="va">res.km</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   cluster size ave.sil.width</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1       1    7          0.27</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2       2   13          0.23</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3       3   11          0.39</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4       4   19          0.20</span>
<span class="r-plt img"><img src="eclust-2.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="co"># Optimal number of clusters using gap statistics</span></span></span>
<span class="r-in"><span><span class="va">res.km</span><span class="op">$</span><span class="va">nbclust</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 4</span>
<span class="r-in"><span><span class="co"># Print result</span></span></span>
<span class="r-in"><span> <span class="va">res.km</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> K-means clustering with 4 clusters of sizes 7, 13, 11, 19</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Cluster means:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       Murder    Assault    UrbanPop        Rape</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 -0.6958674 -0.5679476  1.12728218 -0.55096728</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 -0.2162425 -0.2611064 -0.04793489 -0.06172647</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 -1.1034717 -1.1654231 -0.99194587 -1.04874074</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4  1.0431796  1.0626143  0.19176752  0.85238754</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Clustering vector:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        Alabama         Alaska        Arizona       Arkansas     California </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>              4              4              4              2              4 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       Colorado    Connecticut       Delaware        Florida        Georgia </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>              4              1              2              4              4 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         Hawaii          Idaho       Illinois        Indiana           Iowa </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>              1              3              4              2              3 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         Kansas       Kentucky      Louisiana          Maine       Maryland </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>              2              2              4              3              4 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Massachusetts       Michigan      Minnesota    Mississippi       Missouri </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>              1              4              3              4              2 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        Montana       Nebraska         Nevada  New Hampshire     New Jersey </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>              3              2              4              3              1 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     New Mexico       New York North Carolina   North Dakota           Ohio </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>              4              4              4              3              2 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       Oklahoma         Oregon   Pennsylvania   Rhode Island South Carolina </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>              2              2              1              1              4 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   South Dakota      Tennessee          Texas           Utah        Vermont </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>              3              4              4              1              3 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       Virginia     Washington  West Virginia      Wisconsin        Wyoming </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>              2              2              3              3              2 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Within cluster sum of squares by cluster:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1]  5.244931 10.860162  8.499862 45.263622</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  (between_SS / total_SS =  64.4 %)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Available components:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] "cluster"      "centers"      "totss"        "withinss"     "tot.withinss"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [6] "betweenss"    "size"         "iter"         "ifault"       "clust_plot"  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [11] "silinfo"      "nbclust"      "data"         "gap_stat"    </span>
<span class="r-in"><span> </span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span> <span class="co"># Enhanced hierarchical clustering</span></span></span>
<span class="r-in"><span> <span class="va">res.hc</span> <span class="op">&lt;-</span> <span class="fu">eclust</span><span class="op">(</span><span class="va">df</span>, <span class="st">"hclust"</span>, nboot <span class="op">=</span> <span class="fl">2</span><span class="op">)</span> <span class="co"># compute hclust</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="fviz_dend.html">fviz_dend</a></span><span class="op">(</span><span class="va">res.hc</span><span class="op">)</span> <span class="co"># dendrogam</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="fviz_silhouette.html">fviz_silhouette</a></span><span class="op">(</span><span class="va">res.hc</span><span class="op">)</span> <span class="co"># silhouette plot</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span> </span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Laszlo Erdey, Alboukadel Kassambara, Fabian Mundt.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

